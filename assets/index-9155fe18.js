import{O as C,w as r,r as n,Q as y,R,j as t,U as A,V as I,i as _,k as P,W as w,G as i,X as E,p as b,Y as q}from"./index-8fc587cd.js";const z=a=>C.filter(e=>!e.roles||e.roles&&e.roles.includes(a)||e.headerName==="Acciones"),p=({status:a,startDate:e,endDate:o,actions:u})=>{const[f,c]=n.useState(!0),[x,D]=n.useState([]),[m,d]=n.useState(!1),h=new y(R.api_url,localStorage.getItem("token")||""),v=async()=>{try{let s=await h.post("/remittances/filter?page=1&pageSize=20",{status:a,startDate:e,endDate:o});D(s.remittances),c(!1)}catch{c(!1)}};let j=z(sessionStorage.getItem("roles")||"provider");return n.useEffect(()=>{d(!1),v()},[e,o,a,m]),t.jsx(A,{data:x,columns:j.map(s=>s.field==="Actions"?{...s,renderCell:S=>t.jsx(I,{row:S.row,setFetchDataFlag:d})}:s),loading:f||!1,page:0,pageSize:20,pageSizeOptions:[5,10,20]})};p.propTypes={status:r.array.isRequired,startDate:r.string,endDate:r.string,actions:r.bool};var l={},T=P;Object.defineProperty(l,"__esModule",{value:!0});var g=l.default=void 0,k=T(_()),O=t,F=(0,k.default)((0,O.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");g=l.default=F;const G=({status:a})=>{const[e,o]=n.useState({startDate:null,endDate:null}),{openDialog:u}=w(q);return t.jsxs(i,{container:!0,spacing:2,maxWidth:"xl",children:[t.jsxs(i,{item:!0,xs:12,display:"flex",alignItems:"center",justifyContent:"space-between",mr:3,children:[t.jsx(E,{startDate:e.startDate,endDate:e.endDate,onDateChange:o}),sessionStorage.getItem("roles")==="seller"&&t.jsx(b,{variant:"contained",size:"small",startIcon:t.jsx(g,{}),onClick:u,children:"Create"})]}),t.jsx(i,{item:!0,xs:12,children:t.jsx(p,{status:a,startDate:e.startDate,endDate:e.endDate})})]})};G.propTypes={status:r.array.isRequired};export{G as default};
