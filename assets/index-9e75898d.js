import{O as S,w as n,r as i,Q as C,R,j as e,G as r,B as A,U as m,V as I,i as $,k as y,W as w,X as P,p as k,Y as E}from"./index-d80e5371.js";const q=a=>S.filter(s=>!s.roles||s.roles&&s.roles.includes(a)||s.headerName==="Acciones"),g=({status:a,startDate:s,endDate:o,actions:u})=>{const[f,x]=i.useState(!0),[p,j]=i.useState([]),[v,l]=i.useState(!1),D=new C(R.api_url,localStorage.getItem("token")||""),_=async()=>{try{let t=await D.post("/remittances/filter?page=1&pageSize=20",{status:a,startDate:s,endDate:o});j(t.remittances),x(!1)}catch{x(!1)}};let b=q(sessionStorage.getItem("roles")||"provider");return i.useEffect(()=>{l(!1),_()},[s,o,a,v]),e.jsxs(r,{container:!0,children:[e.jsx(r,{xs:12,sx:{display:{xs:"block",sm:"none"}},children:p.map((t,c)=>e.jsxs(A,{sx:{border:"1px solid #cccccc",my:1,p:1,borderRadius:2},children:[e.jsx("div",{children:`${t.full_name}`}),e.jsx("div",{children:`${t.phone_number}`}),e.jsx("div",{children:t.cardNumber}),e.jsx("div",{children:`$${t.remittance_amount} ${t.remittance_currency} - $${t.budget_amount} ${t.budget_currency}`}),e.jsx("div",{children:`${t.status}`}),e.jsx(m,{row:t,setFetchDataFlag:l})]},c))}),e.jsx(r,{xs:12,sx:{display:{xs:"none",sm:"block"}},children:e.jsx(I,{data:p,columns:b.map(t=>t.field==="Actions"?{...t,renderCell:c=>e.jsx(m,{row:c.row,setFetchDataFlag:l})}:t),loading:f||!1,page:0,pageSize:20,pageSizeOptions:[5,10,20]})})]})};g.propTypes={status:n.array.isRequired,startDate:n.string,endDate:n.string,actions:n.bool};var d={},z=y;Object.defineProperty(d,"__esModule",{value:!0});var h=d.default=void 0,T=z($()),B=e,O=(0,T.default)((0,B.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");h=d.default=O;const F=({status:a})=>{const[s,o]=i.useState({startDate:null,endDate:null}),{openDialog:u}=w(E);return e.jsxs(r,{container:!0,spacing:2,maxWidth:"xl",children:[e.jsxs(r,{item:!0,xs:12,display:"flex",alignItems:"center",justifyContent:"space-between",mr:3,children:[e.jsx(P,{startDate:s.startDate,endDate:s.endDate,onDateChange:o}),sessionStorage.getItem("roles")==="seller"&&e.jsx(k,{variant:"contained",size:"small",startIcon:e.jsx(h,{}),onClick:u,children:"Create"})]}),e.jsx(r,{item:!0,xs:12,children:e.jsx(g,{status:a,startDate:s.startDate,endDate:s.endDate})})]})};F.propTypes={status:n.array.isRequired};export{F as default};
